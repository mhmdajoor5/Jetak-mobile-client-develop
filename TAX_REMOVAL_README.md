# ุฅุฒุงูุฉ ุงูุถุฑูุจุฉ ูู ุงููุธุงู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุฒุงูุฉ ุงูุถุฑูุจุฉ ูู ุฌููุน ุญุณุงุจุงุช ุงูุฃุณุนุงุฑ ูู ุงููุธุงู ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู ูู ุงูุจุฒูุณ.

## ๐ง ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. CartController
**ุงูููู**: `lib/src/controllers/cart_controller.dart`

```dart
// ุชู ุฅุฒุงูุฉ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
// double taxAmount = 0.0;

void calculateSubtotal() {
  // ...
  // ุชู ุฅุฒุงูุฉ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
  // taxAmount = subTotal * carts[0].food!.restaurant.defaultTax / 100;
  total = subTotal + deliveryFee;
}
```

### 2. ุตูุญุฉ Cart
**ุงูููู**: `lib/src/pages/cart.dart`

```dart
totalPrice: _con.subTotal, // ุชู ุฅุฒุงูุฉ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
```

### 3. CartBottomDetailsWidget
**ุงูููู**: `lib/src/elements/CartBottomDetailsWidget.dart`

```dart
// ุชู ุฅุฒุงูุฉ ุนุฑุถ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
// Row(
//   children: <Widget>[
//     Expanded(
//       child: Text('${S.of(context).tax} (${_con.carts[0].food!.restaurant!.defaultTax}%)'),
//     ),
//     Helper.getPrice(_con.taxAmount, context),
//   ],
// ),
```

### 4. ุตูุญุฉ Checkout
**ุงูููู**: `lib/src/pages/checkout.dart`

```dart
// ุชู ุฅุฒุงูุฉ ุนุฑุถ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
// Row(
//   children: <Widget>[
//     Expanded(child: Text("${S.of(context).tax} (${_con.carts[0].food?.restaurant.defaultTax}%)")),
//     Helper.getPrice(_con.taxAmount, context),
//   ],
// ),
```

### 5. ุตูุญุฉ Order Success
**ุงูููู**: `lib/src/pages/order_success.dart`

```dart
// ุชู ุฅุฒุงูุฉ ุนุฑุถ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
// Row(
//   children: <Widget>[
//     Expanded(child: Text("${S.of(context).tax} (${_con.carts[0].food?.restaurant.defaultTax}%)")),
//     Helper.getPrice(_con.taxAmount, context),
//   ],
// ),
```

### 6. Helper Functions
**ุงูููู**: `lib/src/helpers/helper.dart`

#### ุฏุงูุฉ getTaxOrder
```dart
static double getTaxOrder(Order order) {
  // ุชู ุฅุฒุงูุฉ ุญุณุงุจ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
  print('๐ ุชู ุฅุฒุงูุฉ ุญุณุงุจ ุงูุถุฑูุจุฉ ููุทูุจ ${order.id} ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู');
  return 0.0;
}
```

#### ุฏุงูุฉ getTotalOrdersPrice
```dart
static double getTotalOrdersPrice(Order order) {
  // ...
  // ุชู ุฅุฒุงูุฉ ุญุณุงุจ ุงูุถุฑูุจุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู
  // ุงููุฌููุน ุงูููู = ุณุนุฑ ุงูุทุนุงู + ุฑุณูู ุงูุชูุตูู
  double total = foodTotal + order.deliveryFee;
  return total;
}
```

## ๐ ุงูุชุฃุซูุฑ ุนูู ุงูุฃุณุนุงุฑ

### ูุจู ุงูุชุบููุฑ:
```
ุณุนุฑ ุงูุทุนุงู: 100.0
ุงูุถุฑูุจุฉ (15%): 15.0
ุฑุณูู ุงูุชูุตูู: 5.0
ุงููุฌููุน: 120.0
```

### ุจุนุฏ ุงูุชุบููุฑ:
```
ุณุนุฑ ุงูุทุนุงู (ูุน ุงูุถุฑูุจุฉ): 115.0
ุฑุณูู ุงูุชูุตูู: 5.0
ุงููุฌููุน: 120.0
```

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

1. `lib/src/controllers/cart_controller.dart` - ุฅุฒุงูุฉ ุญุณุงุจ ุงูุถุฑูุจุฉ
2. `lib/src/pages/cart.dart` - ุฅุฒุงูุฉ ุงูุถุฑูุจุฉ ูู ุนุฑุถ ุงูุณุนุฑ
3. `lib/src/elements/CartBottomDetailsWidget.dart` - ุฅุฒุงูุฉ ุนุฑุถ ุงูุถุฑูุจุฉ
4. `lib/src/pages/checkout.dart` - ุฅุฒุงูุฉ ุนุฑุถ ุงูุถุฑูุจุฉ
5. `lib/src/pages/order_success.dart` - ุฅุฒุงูุฉ ุนุฑุถ ุงูุถุฑูุจุฉ
6. `lib/src/helpers/helper.dart` - ุฅุฒุงูุฉ ุญุณุงุจ ุงูุถุฑูุจุฉ ูู ุฏูุงู ุงูุทูุจุงุช

## โ ุงููุฒุงูุง

1. **ุชุจุณูุท ุงูุญุณุงุจุงุช**: ูุง ุญุงุฌุฉ ูุญุณุงุจ ุงูุถุฑูุจุฉ ุจุดูู ูููุตู
2. **ุฏูุฉ ูู ุงูุฃุณุนุงุฑ**: ุงูุฃุณุนุงุฑ ุชุนูุณ ุงููููุฉ ุงูููุงุฆูุฉ ูุจุงุดุฑุฉ
3. **ุณูููุฉ ุงูุตูุงูุฉ**: ุชูููู ุงูุชุนููุฏ ูู ููุฏ ุญุณุงุจ ุงูุฃุณุนุงุฑ
4. **ุชูุงูู ูุน ุงูุจุฒูุณ**: ุงูุฃุณุนุงุฑ ุชุฏุฎู ูุน ุงูุถุฑูุจุฉ ูุณุจูุงู

## ๐ฎ ุงูุชุฃุซูุฑ ุนูู ุงููุณุชุฎุฏู

- **ุงูุณูุฉ**: ูู ูุฑู ุงููุณุชุฎุฏู ุงูุถุฑูุจุฉ ูููุตูุฉุ ููุท ุงูุณุนุฑ ุงูููุงุฆู
- **ุงูุฏูุน**: ุงูุณุนุฑ ุงููุนุฑูุถ ูู ุงูุณุนุฑ ุงูููุงุฆู
- **ุงูุทูุจุงุช**: ูู ุชุธูุฑ ุงูุถุฑูุจุฉ ูู ุชูุงุตูู ุงูุทูุจ

## ๐ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

ุงููุธุงู ุฌุงูุฒ ุงูุขู! ุงูุฃุณุนุงุฑ ุชุนูุณ ุงููููุฉ ุงูููุงุฆูุฉ ูุน ุงูุถุฑูุจุฉ ูุณุจูุงูุ ููุง ุชูุฌุฏ ุญุงุฌุฉ ูุญุณุงุจ ุงูุถุฑูุจุฉ ุจุดูู ูููุตู. 