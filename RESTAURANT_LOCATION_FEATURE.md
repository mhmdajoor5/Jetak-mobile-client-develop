# ميزة عرض موقع المطعم

## نظرة عامة
تم إضافة ميزة جديدة لعرض موقع المطعم في تطبيق توصيل الطعام. هذه الميزة تسمح للمستخدمين برؤية موقع المطعم على الخريطة وعرض معلومات المطعم التفصيلية.

## الميزات المضافة

### 1. تحديث نموذج الطلب (Order Model)
- إضافة حقل `restaurant` من نوع `Restaurant?` لتخزين بيانات المطعم
- إضافة دوال مساعدة:
  - `getRestaurantLocation()`: للحصول على إحداثيات المطعم
  - `hasRestaurantData()`: للتحقق من وجود بيانات المطعم
  - `getRestaurantName()`: للحصول على اسم المطعم
  - `getRestaurantAddress()`: للحصول على عنوان المطعم

### 2. صفحة موقع المطعم (RestaurantLocationPage)
- عرض موقع المطعم على خريطة Google Maps
- علامة حمراء للمطعم مع معلومات تفصيلية
- زر للانتقال إلى موقع المطعم على الخريطة
- زر لعرض معلومات المطعم التفصيلية
- معالجة الحالات التي لا تتوفر فيها إحداثيات المطعم

### 3. صفحة معلومات المطعم (RestaurantInfoPage)
- عرض معلومات شاملة عن المطعم:
  - صورة المطعم
  - اسم المطعم
  - عنوان المطعم
  - تقييم المطعم
  - رسوم التوصيل
  - أرقام الهاتف
  - وقت الإغلاق
  - نطاق التوصيل

### 4. تحديث صفحة التتبع (Tracking Page)
- إضافة زر "Restaurant Location" في منطقة معلومات العنوان
- عرض اسم المطعم مع زر للانتقال إلى صفحة موقع المطعم
- يظهر الزر فقط إذا كانت بيانات المطعم متوفرة

## كيفية الاستخدام

### للمستخدمين:
1. انتقل إلى صفحة تتبع الطلب
2. ستجد زر "Restaurant Location" في منطقة معلومات العنوان
3. اضغط على الزر لعرض موقع المطعم على الخريطة
4. يمكنك أيضاً الضغط على أيقونة المعلومات لعرض تفاصيل المطعم

### للمطورين:
```dart
// التحقق من وجود بيانات المطعم
if (order.hasRestaurantData()) {
  // الحصول على إحداثيات المطعم
  final location = order.getRestaurantLocation();
  if (location != null) {
    final lat = location['latitude'];
    final lng = location['longitude'];
    // استخدام الإحداثيات
  }
}

// الحصول على اسم المطعم
String restaurantName = order.getRestaurantName();

// الحصول على عنوان المطعم
String restaurantAddress = order.getRestaurantAddress();
```

## البيانات المطلوبة من API

يجب أن يحتوي استجابة API للطلب على بيانات المطعم في الحقل `restaurant`:

```json
{
  "success": true,
  "data": {
    "id": 402,
    "restaurant": {
      "id": "123",
      "name": "اسم المطعم",
      "address": "عنوان المطعم",
      "latitude": "31.506459440738233",
      "longitude": "34.4503161248863",
      "phone": "رقم الهاتف",
      "mobile": "رقم المحمول",
      "rate": "4.5",
      "delivery_fee": 5.0,
      "closing_time": "22:00",
      "delivery_range": 10.0
    }
  }
}
```

## الملفات المحدثة

1. `lib/src/models/order.dart` - تحديث نموذج الطلب
2. `lib/src/pages/tracking.dart` - إضافة زر موقع المطعم
3. `lib/src/pages/restaurant_location_page.dart` - صفحة موقع المطعم الجديدة
4. `lib/src/pages/restaurant_info_page.dart` - صفحة معلومات المطعم الجديدة

## المتطلبات

- Google Maps Flutter plugin
- إحداثيات صحيحة للمطعم في API
- بيانات المطعم الكاملة في استجابة API

## ملاحظات

- الميزة تعمل فقط إذا كانت بيانات المطعم متوفرة في استجابة API
- إذا لم تتوفر إحداثيات المطعم، سيتم عرض رسالة مناسبة
- يمكن للمستخدمين التنقل بين صفحة الخريطة وصفحة المعلومات بسهولة 